<!doctype html>
<html lang="pl">
<head>
  <meta charset="utf-8">
  <title>RozdziaÅ‚ 3 â€“ Podsumowanie zadaÅ„ 7.1â€“7.5</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@4.4.0/dist/reveal.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@4.4.0/dist/theme/serif.css">
</head>
<body>
  <div class="reveal">
    <div class="slides">

      <!-- TytuÅ‚ -->
      <section>
        <h1>ğŸ“˜ RozdziaÅ‚ 3</h1>
        <p>Podsumowanie zadaÅ„ 7.1â€“7.5</p>
        <p><em>SQL â€“ analiza danych pomiarowych i przestrzennych</em></p>
      </section>

      <!-- Zadanie 7.1 -->
      <section>
        <h2>ğŸ§ª Zadanie 7.1</h2>
        <p>Cel: znaleÅºÄ‡ obszar z najwiÄ™kszÄ… iloÅ›ciÄ… wody na gÅ‚Ä™bokoÅ›ci do 100 m.</p>
        <p>UÅ¼yto <code>JOIN</code> do poÅ‚Ä…czenia pomiarÃ³w z obszarami.</p>
        <p><code>WHERE</code> ogranicza gÅ‚Ä™bokoÅ›Ä‡, <code>GROUP BY</code> agreguje dane, <code>ORDER BY</code> sortuje wynik.</p>
      </section>

      <section>
        <h2>ğŸ’» Kod SQL â€“ 7.1</h2>
        <pre><code class="sql">
SELECT o.nazwa_obszaru, SUM(p.ilosc_wody) AS suma_wody
FROM pomiary p
JOIN obszary o ON p.nr_obszaru = o.kod_obszaru
WHERE p.glebokosc <= 100
GROUP BY o.nazwa_obszaru
ORDER BY suma_wody DESC;
        </code></pre>
      </section>

      <!-- Zadanie 7.2 -->
      <section>
        <h2>ğŸ§ª Zadanie 7.2</h2>
        <p>Cel: znaleÅºÄ‡ Å‚azika z najdÅ‚uÅ¼szym okresem pomiarÃ³w.</p>
        <p>UÅ¼yto <code>MAX()</code> i <code>MIN()</code> do obliczenia zakresu dat.</p>
        <p><code>GROUP BY</code> pozwala obliczyÄ‡ dÅ‚ugoÅ›Ä‡ misji dla kaÅ¼dego Å‚azika.</p>
      </section>

      <section>
        <h2>ğŸ’» Kod SQL â€“ 7.2</h2>
        <pre><code class="sql">
SELECT l.nazw_lazika, MAX(p.data_pomiaru) - MIN(p.data_pomiaru) AS okres
FROM laziki l
JOIN pomiary p ON l.nr_lazika = p.nr_lazika
GROUP BY l.nazw_lazika;
        </code></pre>
      </section>

      <!-- Zadanie 7.3 -->
      <section>
        <h2>ğŸ§ª Zadanie 7.3</h2>
        <p>Cel: znaleÅºÄ‡ obszary bez pomiaru w roku wysÅ‚ania Å‚azika.</p>
        <p>UÅ¼yto <code>NOT IN</code> z podzapytaniem, ktÃ³re wybiera obszary z pomiarami w roku wysÅ‚ania.</p>
        <p><code>YEAR()</code> wyciÄ…ga rok z daty pomiaru.</p>
      </section>

      <section>
        <h2>ğŸ’» Kod SQL â€“ 7.3</h2>
        <pre><code class="sql">
SELECT o.nazwa_obszaru
FROM obszary o
WHERE o.kod_obszaru NOT IN (
  SELECT p.kod_obszaru
  FROM pomiary p
  JOIN laziki l ON p.nr_lazika = l.nr_lazika
  WHERE YEAR(p.data_pomiaru) = l.rok_wyslania
);
        </code></pre>
      </section>

      <!-- Zadanie 7.4 -->
      <section>
        <h2>ğŸ§ª Zadanie 7.4</h2>
        <p>Cel: znaleÅºÄ‡ Å‚aziki, ktÃ³re badaÅ‚y obie pÃ³Å‚kule.</p>
        <p>UÅ¼yto <code>LIKE</code> do filtrowania wspÃ³Å‚rzÄ™dnych, <code>IIF()</code> do zliczania pomiarÃ³w na pÃ³Å‚kulach.</p>
        <p><code>HAVING</code> sprawdza warunki po grupowaniu.</p>
      </section>

      <section>
        <h2>ğŸ’» Kod SQL â€“ 7.4</h2>
        <pre><code class="sql">
SELECT l.nazwa_lazika
FROM laziki l
JOIN pomiary p ON l.nr_lazika = p.nr_lazika
WHERE l.wsp_ladowania LIKE "*S*"
GROUP BY l.nazwa_lazika
HAVING SUM(IIF(p.wspolrzedne LIKE "*N*", 1, 0)) > 0
   AND SUM(IIF(p.wspolrzedne LIKE "*S*", 1, 0)) > 0;
        </code></pre>
      </section>

      <!-- Zadanie 7.5 -->
      <section>
        <h2>ğŸ§ª Zadanie 7.5</h2>
        <p>Cel: znaleÅºÄ‡ producentÃ³w Å‚azikÃ³w, ktÃ³re wykonywaÅ‚y pomiary w â€Arcadiaâ€ w roku 2060.</p>
        <p>UÅ¼yto <code>INNER JOIN</code> na czterech tabelach, <code>DISTINCT</code> do usuniÄ™cia duplikatÃ³w.</p>
      </section>

      <section>
        <h2>ğŸ’» Kod SQL â€“ 7.5</h2>
        <pre><code class="sql">
SELECT DISTINCT pr.nazwa
FROM (Producent AS pr
INNER JOIN Laziki AS l ON pr.kod_producenta = l.kod_producenta)
INNER JOIN (Pomiary AS pm
INNER JOIN Obszary AS o ON pm.kod_obszaru = o.kod_obszaru)
ON l.nr_lazika = pm.nr_lazika
WHERE o.nazwa_obszaru = "Arcadia"
AND YEAR(pm.data_pomiaru) = 2060
ORDER BY pr.nazwa;
        </code></pre>
      </section>

      <!-- Wnioski -->
      <section>
        <h2>ğŸ“Œ Wnioski</h2>
        <ul>
          <li>KaÅ¼de zadanie wymagaÅ‚o innego podejÅ›cia: filtr, agregacja, podzapytanie, analiza przestrzenna</li>
          <li><code>JOIN</code> to podstawa pracy z wieloma tabelami</li>
          <li><code>GROUP BY</code> i <code>HAVING</code> pozwalajÄ… analizowaÄ‡ grupy</li>
          <li><code>NOT IN</code> wykrywa brak danych</li>
          <li><code>DISTINCT</code> usuwa powtÃ³rzenia</li>
        </ul>
      </section>

      <!-- Checklist -->
      <section>
        <h2>âœ… UmiejÄ™tnoÅ›ci po rozdziale 3</h2>
        <ul>
          <li>ğŸ”¹ ÅÄ…czenie danych z wielu tabel</li>
          <li>ğŸ”¹ Filtrowanie danych wedÅ‚ug warunkÃ³w</li>
          <li>ğŸ”¹ Grupowanie i agregacja</li>
          <li>ğŸ”¹ Tworzenie podzapytaÅ„</li>
          <li>ğŸ”¹ Analiza danych przestrzennych i czasowych</li>
        </ul>
      </section>

      <!-- Refleksja -->
      <section>
        <h2>ğŸ§  Refleksja</h2>
        <p>KaÅ¼de zapytanie SQL to odpowiedÅº na konkretne pytanie.</p>
        <p>Rozumienie danych i ich struktury jest waÅ¼niejsze niÅ¼ znajomoÅ›Ä‡ skÅ‚adni.</p>
      </section>

      <!-- ZakoÅ„czenie -->
      <section>
        <h2>ğŸ“ Gratulacje!</h2>
        <p>UkoÅ„czyÅ‚eÅ› zestaw zadaÅ„ 7.1â€“7.5 i nauczyÅ‚eÅ› siÄ™ wielu technik SQL.</p>
        <p>
        <p>Masz za sobÄ… solidne podstawy: Å‚Ä…czenie tabel, filtrowanie, grupowanie, podzapytania i analiza przestrzenna.</p>
              </section>

    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/reveal.js@4.4.0/dist/reveal.js"></script>
  <script>
    Reveal.initialize({
      hash: true,
      slideNumber: true,
      transition: 'fade'
    });
  </script>
</body>
</html>
